/*! 
IF Framework - MIT
Version	: 1.2.0 
Created	: This file was auto generated at 2018-01-26 09:02:43 
Author	: Kami Technical <kamitechnical@gmail.com>
*/

var IT=IT||{},transitionEnd="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend";!function(t){t.fn.serializeObject=function(){var e={};return t.each(this.serializeArray(),function(n,s){var i=e[s.name];void 0!==i&&null!==i?t.isArray(i)?i.push(s.value):e[s.name]=[i,s.value]:e[s.name]=s.value}),e}}(jQuery),IT.BaseClass=class{constructor(t){this._id="",this.settings=t||{}}get className(){return this.classname||this.settings.xtype||this.settings.x||void 0}get isClass(){return!0}addEvents(t,e=[]){0==e.length&&Object.keys(t).forEach(n=>"function"==typeof t[n]?e.push(n):null);let n=t.selector||$(this);e.forEach(e=>n.on(e,t[e]||IT.Utils.emptyFn))}doEvent(t,e){$(this).trigger(t,e)}clearEvents(t={}){t.selector||$(this).off()}get s(){return this.settings}},IT.Component=class extends IT.BaseClass{constructor(t){super(t);this.content=null}renderTo(t){this.content.appendTo&&this.content.appendTo(t)}get id(){return this._id}set id(t){this._id=t}getId(){return this.id}getContent(){return this.content}getSetting(){return this.settings}},IT.Button=class extends IT.Component{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",buttonClass:"",iconClass:"",enable:!0,enableDropdown:!0,text:"Tombol",items:[],css:{}},t),e.id=e.settings.id||IT.Utils.id(),e.enable=e.settings.enable,e.addEvents(e.settings,["onClick"]);let n=$("<a/>",{id:e.id,html:e.settings.text,class:"it-btn "+e.settings.buttonClass,css:e.settings.css});if(n.click(function(t){e.enable&&("function"==typeof e.settings.handler&&e.settings.handler.call(),e.doEvent("onClick",[e,e.id]),t.stopPropagation())}),e.settings.iconClass){let t=$("<span/>",{class:"fa fa-"+e.settings.iconClass,html:"&nbsp;"});n.prepend(t)}if(e.content=n,e.settings.enable||e.setEnable(!1),e.settings.items.length){let t=$("<div/>",{class:"it-btn-group"});t.append(e.content);let n=new IT.Button({iconClass:"angle-down",buttonClass:e.settings.buttonClass+" btn-dropdown ",text:"",handler:function(){e.content.find(".menu-group").toggle(),s.removeClass("menu-reverse"),s.offset().top+s.outerHeight()>$(window).height()&&s.addClass("menu-reverse")}});n.setEnable(e.settings.enableDropdown),n.renderTo(t);let s=$("<ul/>",{class:"menu-group"});$.each(e.settings.items,function(t,e){if(e){let t=$("<li/>",{class:"clearfix"});"string"==typeof e?e=IT.Utils.createObject({xtype:"html",content:$("<div/>",{class:"menu-group-separator"})}):e.isClass||(e=$.extend(!0,{xtype:"button"},e),e=IT.Utils.createObject(e)),e.renderTo(t),t.appendTo(s)}}),t.append(s),e.content=t}}renderTo(t){super.renderTo(t),this.settings.items.length&&$(document).click(function(t){$(t.target).closest(".menu-group").length||$(".menu-group").hide()})}setEnable(t){this.enable=t,this.content[this.enable?"removeClass":"addClass"]("btn-disabled")}setText(t){this.content.html(t)}},IT.FormItem=class extends IT.Component{constructor(t){super(t);this._readyState=!1,this.addEvents(this.settings,["stateChange"]),this.readyState=!0}get readyState(){return this._readyState}set readyState(t){this._readyState=t,this.doEvent("stateChange",t)}val(t){return void 0===t?this.input.val():this.input.val(t)}setInvalid(t=!0){this.input&&this.input[t?"addClass":"removeClass"]("invalid")}validate(){return!(!this.settings.allowBlank&&""==this.val())}setReadonly(t=!1){this.input&&this.input.attr("readonly",t)[t?"addClass":"removeClass"]("input-readonly")}setEnabled(t=!1){this.input&&this.input.attr("disabled",!t)[t?"removeClass":"addClass"]("input-disabled")}},IT.CheckBox=class extends IT.FormItem{constructor(t){super(t);let e,n=this;n.settings=$.extend(!0,{x:"checkbox",id:"",label:"",name:"",value:"",readonly:!1,enabled:!0},t),e=n.settings,n.addEvents(n.settings,["onChange"]),n.id=e.id||IT.Utils.id(),n.input=$(`<input id="${n.id}-item" `+"type='checkbox' class='it-edit-input' "+`name='${e.name||IT.Utils.id()}' `+`${0==e.allowBlank?"required":""} `+`${e.readonly?" readonly ":""} `+`${0==e.enabled?" disabled ":""} `+`value='${e.value||IT.Utils.id()}' `+">"),n.input.on("change",function(){n.doEvent("onChange",[n,this.checked])}),n.content=$("<div class='it-edit for-option' />").append(n.input).append(`<label for="${n.id}-item" `+`class='it-input-label it-input-label-${e.labelAlign||"left"}'`+`>${e.label}</label>`),n.readyState=!0}get checked(){return this.input.is(":checked")}set checked(t=!0){this.input.prop("checked",t)}},IT.RecordStore=class extends IT.BaseClass{constructor(t){super();this.commited=!1,this.rawData=t,this.changed={},this.field=Object.keys(t),this.locked=[]}isChanged(t=null){return t?t in this.changed:Object.keys(this.changed).length>0}update(t,e){if(this.rawData.hasOwnProperty(t)){if(this.rawData[t]!=e)return this.changed[t]=e,!0;if(this.changed.hasOwnProperty(t))return delete this.changed[t],!0}else console.error("Field "+t+" is not exists");return!1}getChanged(t=null){return t?this.isChanged(t)?this.changed[t]:null:this.isChanged()?Object.assign({},this.rawData,this.changed):null}getRawData(){return this.rawData}get(t){return this.rawData[t]}isLocked(t){return $.inArray(t,this.locked)>-1}},IT.Store=class extends IT.BaseClass{constructor(t){super(t);this.settings=$.extend(!0,{type:"json",url:"",data:[],autoLoad:!1,params:{start:0,limit:20}},t),this.params=this.settings.params,this.data=[],this.total_rows=0,this.procces=!1,this.addEvents(this.settings,["beforeLoad","afterLoad","onLoad","onError","onEmpty"]),this.settings.autoLoad&&this.load()}empty(){this.total_rows=0,this.data=[],this.doEvent("onEmpty",[this,this.getData(),this.params])}load(t={}){let e=this;switch(e.settings.type){case"ajax":case"json":e.settings.type="json";var n=$.extend(e.settings.params,t.params);e.params=n,e.empty(),$.ajax({dataType:e.settings.type,type:"POST",url:e.settings.url,data:n,beforeSend:function(t,n){e.procces=!0,e.total_rows=0;let s=e.doEvent("beforeLoad",[e,t,n]);return void 0===s||s},success:function(t){void 0!==t.rows&&void 0!==t.total_rows?($.each(t.rows,(t,n)=>{let s=new IT.RecordStore(n);s.commited=!0,e.data.push(s)}),e.total_rows=t.total_rows,e.doEvent("onLoad",[e,e.getData(),e.params])):e.doEvent("onError",[e,{status:!1,message:"Format Data Tidak Sesuai"}])},error:function(t,n,s){e.doEvent("onError",[e,{status:n,message:s}])},complete:function(){e.procces=!1,e.doEvent("afterLoad",[e,e.getData()])}});break;case"array":e.total_rows=0,e.procces=!0;let s=e.doEvent("beforeLoad",[e,e.data||[],null]);void 0===s||s?void 0!==e.settings.data?($.each(e.settings.data,(t,n)=>{let s=new IT.RecordStore(n);s.commited=!0,e.data.push(s),e.total_rows++}),e.doEvent("onLoad",[e,e.getData(),null])):e.doEvent("onError",[e,{status:!1,message:"Data JSON '"+e.settings.url+"' Tidak Ditemukan"}]):(e.empty(),e.doEvent("onError",[e,{status:!1,message:"Format Data Tidak Sesuai"}])),e.doEvent("afterLoad",[e,e.getData()]),e.procces=!1}}sort(t,e=!0){throw"Deprecated, doesn't support ordering in front side"}getParams(){return this.params}getData(){return this.data}getRawData(){let t=[];return $.each(this.data,(e,n)=>{t.push(n.rawData)}),t}getChangedData(){let t=[];for(let e in this.data)this.data[e].changed&&t.push($.extend({},this.data[e].data,{indexRow:parseInt(e)}));return t}setData(t){let e=this;t="json"==e.type?t.rows:t,e.empty(),$.each(t,(t,n)=>{let s=new IT.RecordStore(n);s.commited=!0,e.data.push(s),e.total_rows++}),e.doEvent("onLoad",[e,e.data,e.params])}replace(t={},e=0){for(let n in t)this.data[e].update(n,t[n])}indexOf(t="",e){for(let n=0;n<this.data.length;n++)if(this.data[n].rawData[t]===e)return n;return-1}},IT.DataTable=class extends IT.Component{constructor(t){super(t);let e=this;if(e.settings=$.extend(!0,{id:"",cls:"it-datatable",width:"100%",height:"",cellEditing:!0,enableFixedHeader:!0,wrap:!1,paging:!0,store:{type:"json",params:{start:0,limit:20}},columns:[{}],customHeader:""},t),e.id=e.settings.id||IT.Utils.id(),e.params={},e.selectedRow=null,e.selectedColumn=null,e.editors=[],e.paging={page:1,page_count:0,total_rows:0},e.addEvents(e.settings,["onItemClick","onItemDblClick","onLoad","onChangePage"]),e.createComponent(),!e.settings.store.isClass){class t extends IT.Store{load(t){let n=!0,s=this;s.doEvent("beforeLoad"),e.editors.forEach(t=>{t&&t.isClass&&(n=n&&!!t.readyState)}),n?super.load(t):setTimeout(()=>{s.load.call(s,t)},1e3)}}e.store=new t(e.settings.store),e.store.addEvents({beforeLoad:function(){e.content.find(".it-datatable-wrapper").animate({scrollTop:0},"slow"),e.content.find(".it-datatable-loading-overlay").addClass("loading-show")},afterLoad:function(t,n,s,i){e.content.find(".it-datatable-loading-overlay").removeClass("loading-show"),e.assignData(n),e.doEvent("onLoad",[e,n]),e.selectedRow=null,e.selectedColumn=null},onEmpty:function(t,n,s,i){e.assignData(n),e.doEvent("onLoad",[e,n]),e.content.find(".it-datatable-loading-overlay").removeClass("loading-show")}}),t=null,e.params=e.store.params}}createComponent(){let t=this,e=t.settings;t.content=$("<div />",{id:t.id,class:e.cls}).width(e.width).height(e.height);let n=$('<div class="it-datatable-wrapper"/>'),s=$('<div class="it-datatable-fixed-header"/>'),i=$("<table width='100%' />"),a=$("<thead />"),o=$("<tbody />");if(t.content.append(n.append(i.append(a))),e.customHeader)a.append($(e.customHeader));else{let n,s=$("<tr/>");for(let i=0;i<e.columns.length;i++)n=e.columns[i],s.append($("<th />",{css:{"min-width":n.width,width:n.width}}).append(n.header)),n.editor&&n.editor.store&&("ajax"==n.editor.store.type||"json"==n.editor.store.type)?t.editors.push(IT.Utils.createObject($.extend(!0,{},n.editor,{width:n.width}))):t.editors.push(n.editor);a.append(s)}if(e.enableFixedHeader&&t.content.append(s.append(i.clone())),i.append(o),e.paging){t.content.append('\n\t\t\t\t<div class="it-datatable-pagination" >\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li><button class="it-datatable-icon" data-page="first"><span class="fa fa-step-backward"></span></button></li>\n\t\t\t\t\t\t<li><button class="it-datatable-icon" data-page="back"><span class="fa fa-chevron-left"></span></button></li>\n\t\t\t\t\t\t<li> \n\t\t\t\t\t\t\t<input type="text" class="it-datatable-pagination-current" value="1"> /\n\t\t\t\t\t\t \t<span class="it-datatable-pagination-page">0</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li><button class="it-datatable-icon" data-page="next"><span class="fa fa-chevron-right"></span></button></li>\n\t\t\t\t\t\t<li><button class="it-datatable-icon" data-page="last"><span class="fa fa-step-forward"></span></button></li>\n\t\t\t\t\t\t<li >\n\t\t\t\t\t\t\tMenampilkan\n\t\t\t\t\t\t\t<span class=\'it-datatable-pagination-show\'>0</span> \n\t\t\t\t\t\t\tdari\n\t\t\t\t\t\t\t<span class=\'it-datatable-pagination-count\'>0</span> \n\t\t\t\t\t\t\tData\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div class=\'it-datatable-pagination-info\'></div>\n\t\t\t\t</div>\n\t\t\t'),t.content.find(".it-datatable-pagination .it-datatable-icon").click(function(){if(t.getDataChanged().length){let e=new IT.MessageBox({type:"question",title:"Konfirmasi",width:400,message:"Perubahan data belum di simpan. Yakin akan berpindah halaman ?",buttons:[{text:"Ya",handler:function(){t.setPage($(this).data("page"))}},{text:"Tidak",handler:function(){e.close()}}]})}else t.setPage($(this).data("page"))}),t.content.find(".it-datatable-pagination .it-datatable-pagination-current").change(function(){t.setPage($(this).val())});let e=$('\n\t\t\t\t<div class="it-datatable-loading-overlay">\n\t\t\t\t\t<div class="it-loading-rolling"></div>\n\t\t\t\t</div>\n\t\t\t');t.content.append(e)}}assignData(t){let e=t.getData();e.length&&this.content.find("table").animate({scrollTop:0},"slow"),this.content.find("tbody").empty();let n=this.params.start,s=this.params.limit,i=n+s<t.total_rows?n+s:t.total_rows,a=t.total_rows>0?n+1+"/"+i:"0",o=Math.ceil(t.total_rows/s);if(this.paging=Object.assign({},this.paging,{start:n,limit:s,page_count:o,total_rows:t.total_rows}),this.content.find(".it-datatable-pagination-show").html(a),this.content.find(".it-datatable-pagination-count").html(t.total_rows),this.content.find(".it-datatable-pagination-page").html(o),0==n&&this.content.find(".it-datatable-pagination-current").val(1),e.length)for(let t=0;t<e.length;t++)this.addRow(e[t])}renderTo(t){super.renderTo(t);let e=this;e.content.find(".it-datatable-wrapper").scroll(function(){e.content.find(".it-datatable-fixed-header").scrollLeft($(this).scrollLeft())})}getDataChanged(){let t=[];for(let e in this.store.data)this.store.data[e].isChanged()&&t.push(this.store.data[e].getChanged());return t}setPage(t=1){if(this.store.getData().length)switch(t){case"first":1!=this.paging.page&&(this.paging.page=1,this.loadPage(1));break;case"last":this.paging.page!=this.paging.page_count&&(this.paging.page=this.paging.page_count,this.loadPage(this.paging.page_count));break;case"next":this.paging.page<this.paging.page_count&&(this.paging.page++,this.loadPage(this.paging.page));break;case"back":this.paging.page>1&&(this.paging.page--,this.loadPage(this.paging.page));break;default:if(!(t>=1&&t<=this.paging.page_count))throw alert("Invalid page"),this.content.find(".it-datatable-pagination-current").val(this.paging.page),"Invalid page";this.paging.page=t,this.loadPage(t)}}loadPage(t){let e=(t-1)*this.paging.limit;this.content.find(".it-datatable-pagination .it-datatable-pagination-current").val(t),this.store.load({params:{start:e,limit:this.paging.limit}})}getSelectedRecords(){return null===this.selectedRow?null:this.store.data[this.selectedRow]}addRow(t={}){let e=this,n=$("<tr>");for(let s=0;s<e.settings.columns.length;s++){let i=e.editors[s],a=e.settings.columns[s],o=a.dataIndex,l=t.get(o);i&&(i=i.isClass?i:IT.Utils.createObject($.extend(!0,{},a.editor,{width:a.width})));let d=a.data||a.renderer||(i&&i.store?i.store.getRawData():null)||[],r=IT.Utils.findData(l,d),c=$("<td />",{html:$("<div />",{html:""==r?l:r}),valign:a.valign||"top",align:a.align||"left",class:e.settings.wrap?"wrap":""});i&&"checkbox"==i.className&&(c.find("div").empty(),i.addEvents({onChange:function(){t.update(o,i.checked),c[t.isChanged(o)?"addClass":"removeClass"]("it-datatable-changed")}}),i.checked=!!l,i.renderTo(c.find("div"))),c.on("click",function(){e.selectedRow=c.parent().index(),e.selectedColumn=c.index(),e.content.find("tbody tr").removeClass("it-datatable-selected"),c.parent().addClass("it-datatable-selected"),i&&"checkbox"!==i.className&&a.editor.editable&&!c.hasClass("it-datatable-editing")&&!t.isLocked(o)&&(c.find("div").empty(),c.addClass("it-datatable-editing"),i.val(t.getChanged(o)||t.get(o)),i.input.on("blur",function(){i.validate()&&(t.update(o,i.val()),i.input.off(),i.content.detach(),c.removeClass("it-datatable-editing"),c.find("div").html(IT.Utils.findData(t.getChanged(o)||t.get(o),d)),c[t.isChanged(o)?"addClass":"removeClass"]("it-datatable-changed"))}),i.renderTo(c.find("div")),i.input.focus())}).on("dblclick",t=>{e.doEvent("onItemDblClick",[e,e.getSelectedRecords()])}),n.append(c)}e.content.find("tbody").append(n)}removeRow(t=-1){t=t<0?this.selectedRow:t,this.content.find("tbody>tr").eq(t).remove(),this.selectedRow=null,this.selectedColumn=null}},IT.Dialog=class extends IT.Component{constructor(t){super(t);this.elExist=!1,this.settings=$.extend(!0,{id:"",title:"",iconCls:"",items:[],footers:[],overlay:!0,autoShow:!0,width:300,height:100,autoHeight:!0,cancelable:!1,css:{}},t),this.id=this.settings.id||IT.Utils.id(),this.addEvents(this.settings,["onShow","onHide","onClose"]),this.ids=[],this.items={},this.settings.autoShow?this.show():this.createElement()}createElement(){let t=this;if(!t.elExist){if(t.content=$('\n\t\t\t<div class="it-dialog">\n\t\t\t\t<div class="it-dialog-container">\n\t\t\t\t\t<div class="it-dialog-header"></div>\n\t\t\t\t\t<div class="it-dialog-content"></div>\n\t\t\t\t\t<div class="it-dialog-footer"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),t.settings.title){let e=$("<div/>",{class:"it-title",html:t.settings.title});if(t.settings.iconCls){$("<span/>",{class:"fa fa-"+t.settings.iconCls}).prependTo(e)}t.content.find(".it-dialog-header").append(e)}t.settings.overlay||t.content.addClass("no-overlay"),$.each(t.settings.items,function(e,n){n&&(n.isClass||(n=IT.Utils.createObject(n)),n.renderTo(t.content.find(".it-dialog-content")),t.ids.push(n.getId()),t.items[n.getId()]=n)}),$.each(t.settings.footers,function(e,n){n&&(n.isClass||(n=IT.Utils.createObject(n)),n.renderTo(t.content.find(".it-dialog-footer")),t.ids.push(n.getId()),t.items[n.getId()]=n)}),t.content.find(".it-dialog-container").css({"max-width":t.settings.width}),t.content.find(".it-dialog-content").css($.extend(!0,t.settings.css,t.settings.autoHeight?{"min-height":t.settings.height}:{height:t.settings.height})),t.content.appendTo("body").hide(),t.elExist=!0,t.settings.cancelable&&(t.content.find(".it-dialog-container").click(function(t){t.stopPropagation()}),t.content.click(function(){t.close()}))}}getItemCount(){return this.ids.length}getItem(t){return"number"==typeof t&&(t=this.ids[t]),t?this.items[t]||null:this.items}show(){let t=this;t.createElement(),t.content.show(0,function(){$(this).addClass("dialog-show"),$(this).find(".it-dialog-container").addClass("dialog-show")}),t.doEvent("onShow",[t,t.id]),$(window).resize(function(){clearTimeout(window.resizedFinished),window.resizedFinished=setTimeout(function(){t.setScroll()},500)}),$(window).trigger("resize")}hide(){let t=this;t.content.find(".it-dialog-container").removeClass("dialog-show").one(transitionEnd,function(){t.content.removeClass("dialog-show"),t.doEvent("onHide",[t,t.id])})}close(){let t=this;t.content.find(".it-dialog-container").removeClass("dialog-show").one(transitionEnd,function(){t.content.removeClass("dialog-show").one(transitionEnd,function(){setTimeout(()=>{t.elExist=!1,t.content.remove(),t.doEvent("onClose",[t,t.id])},700)})})}setScroll(){this.content.find(".it-dialog-container").height($(window).height()<=this.content.find(".it-dialog-content").height()?$(window).height()-50:"auto")}},IT.Flex=class extends IT.Component{constructor(t){super();let e=this;if(e.settings=$.extend(!0,{id:"",title:"",iconTitle:"",direction:"row",wrap:"",justifyContent:"",css:{},alignItems:"",alignContent:"",items:[]},t),e.id=e.settings.id||IT.Utils.id(),e.content=$("<div />",{id:e.id,class:"it-flex"}),e.content.css(e.settings.css||{}),e.content.addClass("it-flex-dir dir-"+e.settings.direction),e.content.addClass("it-flex-wrap wrap-"+e.settings.wrap),e.content.addClass("it-flex-jc jc-"+e.settings.justifyContent),e.content.addClass("it-flex-ai ai-"+e.settings.alignItems),e.content.addClass("it-flex-ac ac-"+e.settings.alignContent),e.settings.title){let t=$("<div/>",{class:"it-title",html:e.settings.title});t.prepend($("<span/>",{class:"fa"+(e.settings.iconTitle?" fa-"+e.settings.iconTitle:"")})),e.content.append(t)}$.each(e.settings.items,function(t,n){n&&("function"!=typeof n.renderTo&&(n=IT.Utils.createObject(n)),void 0!==n.settings.flex&&n.content.addClass("it-flex-item"),n.renderTo(e.content))})}},IT.Form=class extends IT.Component{constructor(t){super(t);let e,n,s=this;s.settings=$.extend(!0,{id:"",url:"",items:[]},t),s.addEvents(s.settings,["beforeSerialize","beforeSubmit","success","error"]),s.id=s.settings.id||IT.Utils.id(),n=$("<div />",{id:s.id,class:"container-fluid"}),s.ids=[],s.items={},$.each(s.settings.items,function(t,i){i&&(i.isClass||(i=IT.Utils.createObject(i)),i.noRow?i.renderTo(n):(e=$("<div/>",{class:"row form-row"}),i.renderTo(e),n.append(e)),s.ids.push(i.getId()),s.items[i.getId()]=i)}),s.content=$("<form />",{name:IT.Utils.id(),class:"it-form",action:s.settings.url,target:""|s.settings.target,enctype:"multipart/form-data"}),s.content.append(n),s.ajaxForm=s.content.ajaxForm($.extend({},{url:s.content.prop("action"),type:"POST",dataType:"json",delegation:!0,beforeSerialize:function(t,e){let n=s.doEvent("beforeSerialize",[s,t,e]);return void 0===n||n},beforeSubmit:function(t,e,n){let i=s.doEvent("beforeSubmit",[s,t,e,n]);return void 0===i||i},success:function(t,e,n){s.doEvent("success",[t,s,n,e])},error:function(t,e,n){s.doEvent("error",[s,t,e,n])}}))}getItemCount(){return this.ids.length}getItem(t){return"number"==typeof t&&(t=this.ids[t]),t?this.items[t]||null:this.items}getData(){return this.content.serializeObject()}setData(t){let e=function(n){$.each(n,function(n,s){if("function"==typeof s.val&&"checkbox"!=s.className&&"radio"!=s.className){let e=t.getChanged(s.settings.name)||t.get(s.settings.name);s.val(e)}else s.items&&e(s.items)})};e(this.items)}submit(t=null){let e=this;null==t?e.content.submit():e.content.ajaxSubmit($.extend({url:e.content.prop("action"),type:"POST",dataType:"json",delegation:!0,beforeSerialize:function(t,n){let s=e.doEvent("beforeSerialize",[e,t,n]);return void 0===s||s},beforeSubmit:function(t,n,s){let i=e.doEvent("beforeSubmit",[e,t,n,s]);return void 0===i||i},success:function(t,n,s){e.doEvent("success",[t,e,s,n])},error:function(t,n,s){e.doEvent("error",[e,t,n,s])}},t))}clear(){this.ajaxForm.clearForm()}reset(){this.ajaxForm.resetForm()}},IT.Grid=class extends IT.Component{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",columnRule:"",rowContainer:"",css:{},items:[]},t),e.id=e.settings.id||IT.Utils.id(),e.settings.columnRule?e.content=$("<div />",{id:e.id,class:e.settings.columnRule}):e.content=$("<div/>",{id:e.id,class:"row"}),e.ids=[],e.items={},e.content.css(e.settings.css),$.each(e.settings.items,function(t,n){n&&("function"!=typeof n.renderTo&&(n=IT.Utils.createObject(n)),n.renderTo(e.content),e.ids.push(n.getId()),e.items[n.getId()]=n)}),""==e.settings.columnRule&&"fluid"==e.settings.rowContainer?e.content=$("<div/>",{class:"container-fluid"}).append(e.content):""==e.settings.columnRule&&"standar"==e.settings.rowContainer&&(e.content=$("<div/>",{class:"container"}).append(e.content))}getItemCount(){return this.ids.length}getItem(t){return"number"==typeof t&&(t=this.ids[t]),t?this.items[t]||null:this.items}},IT.HTML=class extends IT.Component{constructor(t){super(t);if(this.settings=$.extend(!0,{id:"",url:"",content:"",css:{},data:{},class:""},t),this.id=this.settings.id||IT.Utils.id(),this.content=$("<div/>",{id:this.id}),this.settings.class&&this.content.addClass(this.settings.class),this.content.css(this.settings.css),this.settings.url)this.content.load(this.settings.url);else{Object.keys(this.settings.data).length&&(this.settings.content=this.templateReplacer(this.settings.content,this.settings.data)),this.content.html(this.settings.content)}}setContent(t,e=!1){e&&this.content.empty(),"string"==typeof t?(Object.keys(this.settings.data).length&&(t=me.templateReplacer(this.settings.content,this.settings.data)),this.content.append(t)):t.appendTo(this.content)}templateReplacer(t,e){return t.trim().replace(/\{\{([\w\.]*)\}\}/g,function(t,n){for(var s=n.split("."),i=e[s.shift()],a=0,o=s.length;a<o;a++)i=i[s[a]];return void 0!==i&&null!==i?i:""})}},IT.ImageBox=class extends IT.Component{constructor(t){super(t);this.settings=$.extend(!0,{id:"",src:"",size:{width:300,height:100},cropper:!1,cropperSettings:{smallImage:"allow"}},t),this.id=this.settings.id||IT.Utils.id(),this.imagebox='\n\t\t\t<div class="it-imagebox">\n\t\t\t\t<a href="javascript:void(0);" class="it-imagebox-chooser it-btn btn-primary">\n\t\t\t\t\t<span class="fa fa-picture-o"></span> &nbsp; Pilih Sumber Gambar\n\t\t\t\t</a>\n\t\t\t\t<input type="file" class="cropit-image-input">\n\t\t\t\t<div class="cropit-preview"></div>\n\t\t\t\t<div class="hide-this">\n\t\t\t\t\t<div class="image-size-label">Zoom</div>\n\t\t\t\t\t<input type="range" class="cropit-image-zoom-input" value="0">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',this.reloadObject()}reloadObject(){var t=this;t.content=$(t.imagebox),t.content.find(".cropit-preview").width(t.settings.size.width).height(t.settings.size.height),t.isCropper()?(t.content.find(".hide-this").removeClass("it-hide"),t.content.find(".it-imagebox-chooser").click(function(){t.content.find(".cropit-image-input").click()}),t.content.cropit($.extend(!0,t.settings.cropperSettings)),""!=t.settings.src&&t.content.cropit("imageSrc",t.settings.src)):(t.content.find(".it-imagebox-chooser").hide(),t.content.find(".hide-this").addClass("it-hide"),t.content.find(".cropit-preview").append($("<img/>",{class:"it-imagebox-picture",src:t.settings.src})))}renderTo(t){super.renderTo(t),this._render=t}isCropper(){return this.settings.cropper}setIsCropper(t){let e=this.settings.cropper;this.settings.cropper=t,e!=this.settings.cropper&&(this.content.remove(),this.reloadObject(),this.renderTo(this._render))}setImageSrc(t){this.isCropper()?this.content.cropit("imageSrc",t):this.content.find("img").attr("src",t)}getExport(){let t="This is not cropper.";return this.isCropper()&&(t=this.content.cropit("export")),t}},IT.MessageBox=class extends IT.Component{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",type:"info",title:"Title Here !",message:"Message Here !",width:450,css:{},buttons:[],btnAlign:"right",autoShow:!0},t),e.id=e.settings.id||IT.Utils.id();var n=`\n\t\t\t<div id="${e.id}" class="it-messagebox">\n\t\t\t\t<div class="it-messagebox-container">\n\t\t\t\t\t<div class="it-messagebox-title message-${e.settings.type}">${e.settings.title}</div>\n\t\t\t\t\t<div class="it-messagebox-content">\n\t\t\t\t\t\t<div class="it-messagebox-icon">\n\t\t\t\t\t\t\t<div class="message-icon message-icon-${e.settings.type}"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="it-messagebox-text">\n\t\t\t\t\t\t\t${e.settings.message}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="it-messagebox-btn ${e.settings.btnAlign}"></div>\n\t\t\t\t</div>\n\t\t\t</div>`;if(e.content=$(n),e.content.find(".it-messagebox-container").css($.extend(e.settings.css,{"max-width":e.settings.width})),0==e.settings.buttons.length){new IT.Button({text:"OK",handler:function(){e.hide()}}).renderTo(e.content.find(".it-messagebox-btn"))}else $.each(e.settings.buttons,function(t,n){"function"!=typeof(n=$.extend({xtype:"button"},n)).renderTo&&(n=IT.Utils.createObject(n)),n.renderTo(e.content.find(".it-messagebox-btn"))});e.content.appendTo("body").hide(),e.settings.autoShow&&e.show()}show(){$("input, select, textarea").blur(),this.content.show(0,function(){$(this).addClass("message-show"),$(this).find(".it-messagebox-container").addClass("message-show")})}hide(){let t=this;t.content.find(".it-messagebox-container").removeClass("message-show").one(transitionEnd,function(){t.content.removeClass("message-show").one(transitionEnd,function(){setTimeout(()=>{t.content.remove()},300)})})}close(){this.hide()}},IT.Select=class extends IT.FormItem{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",value:"",emptyText:"",format:null,defaultValue:"",autoLoad:!0,allowBlank:!0,disabled:!1,withRowContainer:!1,width:200,store:{url:"",type:"array",data:null},size:{field:"col-md-8",label:"col-md-4"}},t),e.id=e.settings.id||IT.Utils.id(),e.input=$("<select />",{id:e.id,name:e.s.name,class:"it-edit-input",attr:{disabled:e.settings.disabled},val:e.settings.defaultValue}),e.content=$((e.settings.label?`<div class="${e.settings.size.label}">`+`<label for="${e.id}-item" class='it-input-label it-input-label-${e.settings.labelAlign||"left"}'>${e.settings.label}</label>`+"</div>":"")+`<div class="${e.settings.size.field}"></div>`),e.content.last().append(e.input),e.settings.width&&e.content.css({width:e.settings.width}),e.settings.withRowContainer&&(e.content=$("<div/>",{class:"row"}).append(e.content)),e.addEvents(e.settings,["onLoad","onChange"]),e.input.on("change",function(){e.doEvent("onChange",[e,e.val()])}),e.settings.emptyText&&!e.settings.autoLoad&&e.input.append($("<option/>",{val:"",text:e.settings.emptyText})),e.store=new IT.Store($.extend(!0,{},e.settings.store,{autoLoad:!1})),e.store.addEvents({beforeLoad:function(){e.readyState=!1},afterLoad:function(t,n,s){s.forEach(t=>{e.input.append($("<option/>",{val:t.rawData.key,text:t.rawData.value,attr:{"data-params":void 0!==t.rawData.params?JSON.stringify(t.rawData.params):""}}))}),e.readyState=!0,e.doEvent("onLoad",[e])}}),e.settings.autoLoad?e.getDataStore():e.readyState=!0}getDisplayValue(){return this.getSelect().getItem(this.val())[0].innerHTML}setDataStore(t){this.settings.store=t,this.dataStore()}getDataStore(){this.settings.store;this.input.empty(),this.settings.emptyText&&this.input.append($("<option/>",{val:"",text:this.settings.emptyText})),this.store.load()}getSelectedIndex(){return document.getElementById(this.id).selectedIndex}},IT.SelectIT=class extends IT.FormItem{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",value:"",emptyText:"",format:null,defaultValue:"",autoLoad:!0,allowBlank:!0,disabled:!1,name:"select",label:"Choose an option",withRowContainer:!1,width:"",store:{url:"",type:"array",data:null},size:{field:"col-md-8",label:"col-md-4"}},t),e.id=e.s.id||IT.Utils.id(),e.readyState=!1,e.addEvents(e.s,["onLoad","onChange","onBlur","query"]),e.content=$('\n\t\t<div class="it-select">\n\t\t\t<div class="it-select-wrap">\n\t\t\t\t<input type="text" class="it-select-search"/>\n\t\t\t\t<div class="it-select-dropdown-button">\n\t\t\t\t\t<i class="fa fa-chevron-down"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ul class="it-select-dropdown"></ul>\n\t\t\t<input type="hidden" class="it-select-value"/>\n\t\t</div>'),e.searchInput=e.content.find("input.it-select-search"),e.dropContent=e.content.find("ul.it-select-dropdown"),e.input=e.content.find("input.it-select-value"),e.s.emptyText&&e.searchInput.attr("placeholder",e.s.emptyText),e.s.width&&e.content.css({width:e.s.width}),e.s.withRowContainer&&(e.content=$("<div/>",{class:"row"}).append(e.content)),e.store=new IT.Store($.extend(!0,{},e.s.store,{autoLoad:!1,beforeLoad:function(){e.readyState=!1},afterLoad:function(t,n,s){for(let t=0;t<s.length;t++)e.addItem(s[t]),e.readyState=!0},params:{q:""}})),e.input.on("change",function(){e.doEvent("onChange",[e,e.val()])}),e.searchInput.on("focus",t=>{e.dropContent.show()}).on("keyup",t=>{"array"!==e.store.s.type&&(e.dropContent.children().remove(),e.store.params.q=e.searchInput.val(),e.getDataStore())}),e.s.autoLoad?e.getDataStore():e.readyState=!0}getDataStore(){this.store.load()}renderTo(t){super.renderTo(t),this.searchInput.css({width:this.s.width-this.dropContent.width()})}addItem(t){let e=this,n=$("<li/>",{text:t.rawData.value,attr:{"data-value":t.rawData.key}}).on("click",t=>{n.parent().find("li").removeClass("it-select-selected"),n.addClass("it-select-selected"),e.searchInput.val(n.text()).blur(),e.input.val(n.data("value")).change(),e.dropContent.hide()});e.dropContent.append(n)}val(t){return void 0===t?this.input.val():this.input.val(t)}},IT.Selectize=class extends IT.FormItem{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",value:"",emptyText:"",format:null,defaultValue:"",autoLoad:!0,allowBlank:!0,disabled:!1,width:200,store:{url:"",type:"array",data:null},selectize:{allowEmptyOption:!0}},t),e.id=e.settings.id||IT.Utils.id(),e.input=$("<select />",{id:e.id,name:e.id,attr:{disabled:e.settings.disabled},val:e.settings.defaultValue}),e.content=$("<div />",{class:"it-edit"}),e.content.append(e.input),e.input.selectize(e.settings.selectize),e.settings.width&&e.content.css({width:e.settings.width}),e.settings.style&&e.content.css(e.settings.style),e.addEvents(e.settings,["onLoad","onChange"]),e.getSelect().on("change",function(){e.doEvent("onChange",[e,e.val()])}),e.settings.emptyText&&!e.settings.autoLoad&&(e.getSelect().addOption({value:"",text:e.settings.emptyText}),e.getSelect().setValue("")),e.store=new IT.Store($.extend(!0,{},e.settings.store,{autoLoad:!1})),e.store.addEvents({beforeLoad:function(){e.readyState=!1},afterLoad:function(t,n,s){s.forEach(t=>e.getSelect().addOption({value:t.rawData.key,text:t.rawData.value,params:void 0!==t.rawData.params?JSON.stringify(t.rawData.params):""})),e.readyState=!0}}),e.settings.autoLoad?e.getDataStore():e.readyState=!0}getDisplayValue(){return this.getSelect().getItem(this.val())[0].innerHTML}setDataStore(t){this.settings.store=t,this.dataStore()}getDataStore(){this.settings.store;let t=this.getSelect();t.clearOptions(),this.settings.emptyText&&(t.addOption({value:"",text:this.settings.emptyText}),t.setValue("")),this.store.load()}getSelect(){return this.input[0].selectize}val(t){return void 0===t?this.getSelect().getValue():this.getSelect().setValue(t)}},IT.Tabs=class extends IT.Component{constructor(t){super(t);let e=this;e.settings=$.extend(!0,{id:"",titles:{align:"left",items:[]},items:[],defaultIndexActive:0,height:100,autoHeight:!1},t),e.id=e.settings.id||IT.Utils.id(),e.items={},e.content=$(`\n\t\t\t<div id="${e.id}" class="it-tabs">\n\t\t\t<ul class="it-tabs-menu ${e.settings.titles.align}"></ul>\n\t\t\t<div class="it-tabs-overflow">\n\t\t\t<span class="btn-overflow"><i class="fa fa-angle-down"></i></span>\n\t\t\t<ul class="menu-overflow"></ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="it-tabs-container"></div>\n\t\t\t\t</div>`),e.content.css(e.settings.autoHeight?"min-height":"height",e.settings.height),e.idsTitle=[],$.each(e.settings.titles.items,function(t,n){let s=IT.Utils.id(),i=$("<li/>",{class:"it-tabs-link",html:n,attr:{"data-tab":s,"data-index":t}});i.appendTo(e.content.find(".it-tabs-menu")),i.click(function(){e.setActive($(this).data("index"))}),e.idsTitle.push(s)}),e.ids=[],$.each(e.settings.items,function(t,n){if(n){let s=$("<div/>",{class:"it-tabs-content",id:e.idsTitle[t]});n.isClass||(n=IT.Utils.createObject(n)),n.renderTo(s),e.ids.push(n.getId()),e.items[n.getId()]=n,s.appendTo(e.content.find(".it-tabs-container"))}}),e.content.find(".btn-overflow").click(function(){$(this).next().toggle()})}renderTo(t){super.renderTo(t);let e=this;$(window).resize(function(){e._autoShowMore()}),e._autoShowMore(),e.setActive(e.settings.defaultIndexActive),setTimeout(()=>{e._autoShowMore()},10)}setActive(t){let e,n=this.content.find(".it-tabs-menu li").eq(t);if(n.length<1)throw"offset index";this.content.find(".tab-active").removeClass("tab-active"),e=n.addClass("tab-active"),this.content.find("#"+e.data("tab")).addClass("tab-active")}getActive(){let t=this.getContent().find(".it-tabs-menu li.tab-active");return{index:t.index(),content:t}}_autoShowMore(){let t=this,e=t.content.find(".menu-overflow");e.empty();let n=t.content.find(".it-tabs-menu li");n.show(),n.each(function(){$(this).position().left+$(this).outerWidth()>t.content.width()&&($(this).clone(!0).appendTo(e),$(this).hide())}),t.content.find(".it-tabs-overflow").toggle(e.children("li").length>0)}getItemCount(){return this.ids.length}getItem(t){return"number"==typeof t&&(t=this.ids[t]),t?this.items[t]||null:this.items}},IT.TextBox=class extends IT.FormItem{constructor(t){super(t);let e,n=this;switch(n.settings=$.extend(!0,{x:"textbox",type:"text",cols:19,rows:5,maskSettings:{},id:"",label:"",name:"",withRowContainer:!1,allowBlank:!0,value:"",placeholder:"",readonly:!1,enabled:!0,length:{min:0,max:-1},size:{field:"col-sm-8",label:"col-sm-4",input:0},info:{prepend:"",append:""}},t),e=n.settings,n.id=e.id||IT.Utils.id(),""==e.label&&(e.size.field="col"),e.type){case"textarea":n.input=$(`<textarea style='resize: none;' id="${n.id}-item" `+"class='it-edit-input' "+`${0==e.allowBlank?"required":""} `+`cols='${e.cols}' `+`rows='${e.rows}' `+`${e.readonly?" readonly ":""} `+`${0==e.enabled?" disabled ":""} `+`name='${n.settings.name||IT.Utils.id()}' `+`${e.length.min>0?`minlength='${e.length.min}'`:""} `+`${e.length.max>0?`maxlength='${e.length.max}'`:""} `+`>${e.value?`${e.value}`:""}</textarea>`);break;case"text":case"mask":n.input=$(`<input id="${n.id}-item" `+"type='text' class='it-edit-input' "+`name='${n.settings.name||IT.Utils.id()}' `+`${e.length.min>0?`minlength='${e.length.min}'`:""} `+`${e.length.max>0?`maxlength='${e.length.max}'`:""} `+`${0==e.allowBlank?"required":""} `+`${e.readonly?" readonly ":""} `+`${0!=e.size.input?` size='${e.size.input}'`:""} `+`${0==e.enabled?" disabled ":""} `+`${e.placeholder?`placeholder='${e.placeholder}'`:""} `+`${e.value?`value='${e.value}'`:""} `+">"),"mask"==e.type&&n.input.inputmask(e.maskSettings||{}),0!=e.size.input&&n.input.addClass("noflex");break;case"hidden":n.input=$(`<input id="${n.id}-item" `+"type='hidden' "+`name='${n.settings.name||IT.Utils.id()}' `+`${e.value?`value='${e.value}'`:""} `+">");break;default:throw"input type unknown"}n.input.on("focus change blur",function(t){n.setInvalid(!n.validate())}),n.input.on("keypress",function(t){13==t.which&&$(this).blur()});let s=$("<div class='it-edit' />").append(n.input);e.info.prepend&&s.prepend($("<div />",{class:"it-edit-item",html:e.info.prepend})),e.info.append&&s.append($("<div />",{class:"it-edit-item",html:e.info.append})),n.content=$((e.label?`<div class="${e.size.label}">\n\t\t\t<label for="${n.id}-item" class='it-input-label it-input-label-${e.labelAlign||"left"}'> ${e.label} </label>\n\t\t</div>`:"")+`<div class="${e.size.field}"></div>`),n.content.last().append(s),e.withRowContainer&&(n.content=$("<div/>",{class:"row"}).append(n.content)),n.readyState=!0}},IT.Toolbar=class extends IT.Component{constructor(t){super();let e=this;e.settings=$.extend(!0,{id:"",position:"top",items:[]},t),e.id=e.settings.id||IT.Utils.id(),e.content=$(`\n\t\t\t<div id="${e.id}" class="it-toolbar toolbar-${e.settings.position}">\n\t\t\t\t<ul class="it-toolbar-left"></ul>\n\t\t\t\t<ul class="it-toolbar-right"></ul>\n\t\t\t</div>\n\t\t`),e.ids=[],e.items={},$.each(e.settings.items,function(t,n){if(n){let t=$("<li/>");n.isClass||(n=IT.Utils.createObject(n)),n.renderTo(t),e.content.find(`.it-toolbar-${n.getSetting().align||"left"}`).append(t),e.ids.push(n.getId()),e.items[n.getId()]=n}})}getItemCount(){return this.ids.length}getItem(t){return"number"==typeof t&&(t=this.ids[t]),t?this.items[t]||null:this.items}},IT.Utils=class extends IT.BaseClass{static createObject(t){let e=t.xtype||t.x,n={button:"Button",toolbar:"Toolbar",html:"HTML",flex:"Flex",panel:"Panel",form:"Form",textbox:"TextBox",text:"TextBox",checkbox:"CheckBox",select:"Select",imagebox:"ImageBox",grid:"Grid",datatable:"DataTable",tabs:"Tabs"};if(!IT[n[e]])throw"Class IT."+n[e]+" not found";return n[e]&&IT[n[e]]?new IT[n[e]](t):null}static template(t,...e){return function(...n){var s=n[n.length-1]||{},i=[t[0]];return e.forEach(function(e,a){var o=Number.isInteger(e)?n[e]:s[e];i.push(o,t[a+1])}),i.join("")}}static id(){for(var t="IT-",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}static isMoney(t){var e=t.replace(/[$,]/g,"").replace(/\./g,"").replace(/,/g,".").replace(/\%/g,"");return!isNaN(e)}static isDate(t){var e=new Date(t);return!isNaN(e)}static emptyFn(){}static findData(t,e,n=null){let s=t,i=e.getData?e.getData():e;if(n=$.extend(!0,{field:"key",look:"value"},n||{}),i.length)for(let e=0;e<i.length;e++){let a=i[e];if(a[n.field]==t){s=a[n.look];break}}return s}};